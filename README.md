# Обработчик файлов сотрудников и менеджеров

## Описание
Приложение для обработки `.sb` файлов с данными о сотрудниках и менеджерах. Генерирует отчеты по департаментам и статистику.

## Требования
- **Java**: версия 17 или выше
- **Maven**: версия 3.6.0 или выше (для сборки)
- **Система**: любая ОС с установленной Java

## Зависимости
- **Lombok** v1.18.38 - для автоматической генерации геттеров, сеттеров и т.д.
    - Ссылка: https://mvnrepository.com/artifact/org.projectlombok/lombok

## Сборка проекта

### 1. Клонирование и переход в директорию проекта
```bash
git clone <repository-url>
cd TaskKorona
```

### 2. Сборка JAR файла
```bash
mvn clean package
```

После успешной сборки в корневой директории проекта будет создан файл `app.jar`.

## Запуск приложения

### Базовый запуск (обработка всех .sb файлов)
```bash
java -jar app.jar
```

### Запуск с сортировкой сотрудников
```bash
# Сортировка по имени (ascending)
java -jar app.jar --sort=name

# Сортировка по зарплате (descending)  
java -jar app.jar --sort=salary --order=desc
```

### Генерация статистики
```bash
# Статистика в консоль
java -jar app.jar --stat

# Статистика в файл
java -jar app.jar --stat --output=file --path=statistics.txt
```

## Параметры командной строки

### Основные параметры:
- `--sort=<field>` - сортировка сотрудников (`name` или `salary`)
- `--order=<direction>` - направление сортировки (`asc` или `desc`)
- `--stat` - генерация статистики по департаментам

### Параметры для статистики:
- `--output=<mode>` - вывод статистики (`console` или `file`)
- `--path=<filepath>` - путь для файла статистики (требуется при `--output=file`)

### Сокращенные версии:
- `-s` - аналог `--sort`
- `-o` - алоног `--output`

## Формат входных файлов

### Файлы должны иметь расширение `.sb` и содержать данные в формате:
```
Manager,<id>,<name>,<salary>,<department>
Employee,<id>,<name>,<salary>,<managerId>
```

### Пример:
```
Manager,1,John Doe,5000.50,IT
Employee,2,Jane Smith,3000.75,1
Employee,3,Bob Johnson,3200.00,1
```

## Выходные данные

### Для каждого департамента создается файл `<department>.sb`
```
Manager,1,John Doe,5000.50
Employee,2,Jane Smith,3000.75,1
Employee,3,Bob Johnson,3200.00,1
```

### Файл ошибок `error.log`
Содержит строки, которые не удалось обработать.

### Статистика (при использовании `--stat`)
```
department, min, max, mid
IT, 3000.75, 5000.50, 3733.75
HR, 2500.00, 4500.00, 3500.00
```

## Тестирование
Для проверки работы создайте тестовые `.sb` файлы в директории с приложением и запустите:

```bash
java -jar app.jar --stat
```